/// <reference types="node" />
import { EventEmitter } from 'events';
import NylasConnection from '../nylas-connection';
import { Request } from 'node-fetch';
import AbortController from 'abort-controller';
import backoff from 'backoff';
import Delta, { DeltaParams } from './delta';
import { Deltas } from './deltas';
export default class DeltaStream extends EventEmitter {
    static MAX_RESTART_RETRIES: number;
    connection: NylasConnection;
    path: string;
    modelClass: typeof Deltas | typeof Delta;
    cursor?: string;
    params: DeltaParams;
    requestInfo?: {
        request: Request;
        controller: AbortController;
    };
    restartBackoff: backoff.Backoff;
    timeoutId?: number;
    constructor(connection: NylasConnection, cursor: string, params?: Record<string, unknown>);
    close(): void;
    open(emitAsModel?: boolean): Promise<void>;
    protected onDataReceived(): void;
    private onError;
    private restartConnection;
}
export declare class DeltaLongPoll extends DeltaStream {
    constructor(connection: NylasConnection, cursor: string, timeout: number, params?: Record<string, unknown>);
    protected onDataReceived(): void;
}
